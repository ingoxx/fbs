<view class="box">
  <!-- é¡¶éƒ¨ -->
  <view class="program-title">
    <view class="title-name">
    </view>
    <!-- å®šä½ -->
    <view class="location">
      <block wx:if="{{ addr == 'æœªè·å–ä½ç½®' }}">
        <van-icon name="location" custom-class="van-icon-l"/> <text class="coordinate" >{{ addr }}</text>
      </block>
      <block wx:else>
        <van-icon name="location" custom-class="van-icon-1-1"/> <text class="coordinate" bind:tap="openMapApp">{{ addr }}</text> 
      </block>
    </view>
    <!-- tabé¡µ -->
    <!-- <view class="venue-tab-o">
      <view class="venue-container"> 
        <view class="tabs">
          <block wx:for="{{titles}}" wx:key="index" wx:for-item="item">
            <view 
              class="tab-label {{item.id === isActiveTitle ? 'active' : ''}}" 
              bindtap="onConfirmSportSelection2" 
              data-id="{{item.id}}"
            >
              {{item.name}}
            </view>
          </block>
        </view>
      </view>
    </view> -->
  </view>
  <!-- å®šä½ -->
  <!-- <view class="location">
    <block wx:if="{{ addr == 'æœªè·å–ä½ç½®' }}">
      <van-icon name="location" custom-class="van-icon-l"/> <text class="coordinate" >{{ addr }}</text>
    </block>
    <block wx:else>
      <van-icon name="location" custom-class="van-icon-l"/> <text class="coordinate" bind:tap="openMapApp">{{ addr }}</text> 
    </block>
  </view> -->
  <!-- tabé¡µ -->
  <!-- <view class="venue-tab">
    <view class="venue-container"> 
      <view class="tabs">
        <view 
            class="tab-label active" 
            bindtap="onConfirmSportSelection1" 
          >
          åœºåœ°
        </view>
        <view 
            class="tab-label active" 
            bindtap="onConfirmSportSelection1" 
          >
          é™ªç»ƒ
        </view>
      </view>
    </view>
  </view> -->
  <!-- æœç´¢åœºåœ° -->
  <view class="search">
    <view class="s-p">
      <van-search
      custom-class="van-search-1"
      input-class="van-search-input-1"
      value="{{ inputValue }}"
      shape="round"
      background="#efefef"
      placeholder="è¯·è¾“å…¥åœºåœ°æœç´¢"
      bindchange="newGetVal"
      clearable
      disabled="{{ isInput }}"
      />
    </view>
  </view>
  <!-- åœºåœ°é€‰æ‹© -->
  <view class="venue-tab-t">
    <view class="venue-container"> 
      <view class="tabs">
        <block wx:for="{{all_sport_list}}" wx:key="index" wx:for-item="item">
          <view 
            class="tab-label {{defaultSportKey === item.key ? 'active' : ''}}" 
            bindtap="onConfirmSportSelection1" 
            data-index="{{index}}"
            data-item="{{item}}"
          >
            <van-icon custom-class="van-icon-9"  name="{{item.sport_img}}" />{{item.title}}
          </view>
        </block>
      </view>
    </view>
  </view>
  <!-- æ•°æ®ç»Ÿè®¡ -->
  <view class="data-num">
    <view class="num">
      <van-icon custom-class="van-icon-6" color="#efefef" name="https://ai.anythingai.online/static/profile3/data-2.svg" /><text class="content">ç›®å‰æœ€å¤šå±•ç¤º{{totalData}}æ¡åœºåœ°ä¿¡æ¯</text>
    </view>
  </view>
  <!-- ç»ƒä¹  -->
  <view class="venue-tab-o">
    <view class="venue-container"> 
      <block wx:for="{{titles}}" wx:key="index" wx:for-item="item">
          <van-button type="default" round custom-style="width:150rpx;color:{{item.id === isActiveTitle ? '#ffffff' : ''}}" color="{{item.id === isActiveTitle ? '#256d64' : ''}}" size="small" data-id="{{item.id}}" bind:tap="onConfirmSportSelection2">
            {{item.name}}
          </van-button>
      </block>
      <!-- ç­›é€‰ -->
      <view class="choose" bind:tap="openChoosePop">
        <view class="container-c" wx:if="{{isShowAllData}}">
          <text>ç­›é€‰</text><van-icon custom-class="van-icon-9"  name="https://ai.anythingai.online/static/profile3/choose.svg" />
        </view>
      </view>
    </view>
  </view>
  <!-- å±•ç¤ºé™„è¿‘åœºåœ° -->
  <view class="card-1">
    <!-- åœºåœ°æ•°æ® -->
    <van-transition show="{{!isSwitchData}}" custom-class="block" name="fade-left">
      <block wx:for="{{ basketSquareFilterData }}" wx:key="index" wx:for-item="item">
        <van-transition show="{{ isUse }}" custom-class="block">
          <view class="card-1-1">
            <view class="online-status">
              <!-- <van-icon color="{{ item.join_user_count > 0 ? '#ff6161': '#909090' }}" name="fire" /> -->
              <view class="venue-hot">
                <van-icon color="{{ item.join_user_count > 0 ? '#ff6161': '#909090' }}" name="fire" />
              </view>
              <view class="user-tag">
                <van-tag custom-class="van-tag-1" color="#ffc64a" text-color="#333333">
                  <!-- <van-icon name="https://ai.anythingai.online/static/profile3/star.svg" /> <text class="sport-key">{{defaultSportSquare}}</text> -->
                  <text class="sport-key">{{defaultSportSquare}}</text>
                </van-tag>
              </view>
            </view>
            <view class="addr">
              <view class="sport-icon">
                <!-- çœŸå®åœºåœ°å›¾ç‰‡ -->
                <block wx:if="{{ item.img != '' }}">
                  <van-image use-loading-slot custom-class="van-img-1" radius="10"  fit="cover" src="{{item.img}}" data-src="{{item.img}}" data-imgs="{{item.images}}" bind:click="onPreviewVenueImage"><van-loading slot="loading" type="spinner" size="20" vertical /></van-image>
                </block>
                <!-- æ²¡æœ‰å°±ç”¨å…¶ä»–ä»£æ›¿ -->
                <block wx:else>
                  <block wx:for="{{ all_sport_list }}" wx:key="index3" wx:for-item="item3" >
                    <van-image use-loading-slot data-src="{{item3.img}}" custom-class="van-img-1" radius="10" wx:if="{{ defaultSportKey == item3.key }}" fit="cover" src="{{item3.img}}" data-src="{{item3.img}}" bind:click="onPreviewImage"><van-loading slot="loading" type="spinner" size="20" vertical /></van-image>
                  </block>
                </block>
              </view>
              <view class="sport-addr" data-item="{{ item }}" bind:tap="openMapAppDetailed">
                <view class="sport-addr-name">
                  <text class="t-f">{{ item.addr }}</text>
                </view>
                <view class="sport-addr-tag">
                  <block wx:for="{{ item.tags }}" wx:key="index" wx:for-item="item2">
                    <block wx:for="{{ all_sport_list }}" wx:key="index3" wx:for-item="item3">
                      <van-tag color="#256d64" size="mini"  wx:if="{{ defaultSportKey == item3.key }}">
                        {{ item3.icon }}{{ item2 }}
                      </van-tag>
                    </block>
                  </block>
                  <text class="nav">ç‚¹å‡»å¯å±•ç¤ºå¯¼èˆªè·¯çº¿</text>
                </view>
              </view>
            </view>
            <view class="distance" data-item="{{ item }}">
              <view class="online-users">
                <view class="num">
                  <text>{{ item.join_user_count }}</text>
                </view>
                <view class="title">
                  <van-icon name="friends-o" /><text class="title-name">ç»„é˜Ÿäººæ•°</text>
                </view>
              </view>
              <view class="users-reviews">
                <view class="num">
                  <text>{{ item.user_reviews_count }}</text>
                </view>
                <view class="title">
                  <van-icon name="like-o" /><text class="title-name">ç”¨æˆ·èµç¾</text>
                </view>
              </view>
              <view class="square-distance">
                <view class="num">
                  <text>{{ item.distance }}km</text>
                </view>
                <view class="title">
                  <van-icon name="location-o" /><text class="title-name">ç¦»æ‚¨è·ç¦»</text>
                </view>
              </view>
            </view>
            <view class="evaluate-top" wx:if="{{isShowAllData}}">
              <view class="evaluate" data-item="{{ item }}" bind:tap="isShowEvaBoard">
                <swiper autoplay="true" interval="3000" circular style="height: 60rpx;">
                  <swiper-item wx:for="{{item.user_reviews}}" wx:key="index" wx:for-item="item2">
                    <view class="review-card">
                      <view class="o-user" style="margin-right:-7px;">
                        <van-image use-loading-slot width="100%" round height="100%"  fit="cover" src="{{item2.img}}">
                          <van-loading slot="loading" type="spinner" size="20" vertical />
                        </van-image>
                      </view>
                      <view class="user-evaluate">
                        <text>{{item2.evaluate}}</text>
                      </view>
                    </view>
                  </swiper-item>
                </swiper>
              </view>
              <view class="view-sign" data-item="{{ item }}" bind:tap="isShowEvaBoard">
                <van-icon name="https://ai.anythingai.online/static/profile3/view.svg" />
              </view>
            </view>
            <block>
              <van-transition show="{{ item.is_show }}" custom-class="block">
                <view class="venue-img-update">
                  <view class="title" wx:if="{{isShowAllData}}">
                    <text>æ·»åŠ æœ€æ–°çš„åœºåœ°å›¾ç‰‡ä»¥å¸®åŠ©æ›´å¤šäºº, ç£•å¤´è·ªè°¢</text>
                  </view>
                  <view class="img" wx:if="{{isShowAllData}}">
                    <van-uploader 
                    max-count="1"
                    multiple
                    preview-image
                    deletable
                    file-list="{{ fileList }}" 
                    bind:after-read="afterRead" 
                    bind:delete="deleteImg"
                    />
                  </view>
                  <view class="submit-img-container">
                    <view class="submit-img" wx:if="{{isShowAllData}}">
                      <van-button color="#256d64" bind:tap="updateVenueImg" data-index="{{ index }}" data-item="{{ item }}" icon="https://ai.anythingai.online/static/profile3/smil.svg" custom-style="width: 170rpx" size="small" round type="info">ä¸Šä¼ </van-button>
                    </view>
                    <view class="submit-img" wx:if="{{item.img == ''}}">
                      <van-button  color="#7c9d34" round type="primary" bind:tap="getVenueImg" data-index="{{ index }}" data-item="{{ item }}" icon="https://ai.anythingai.online/static/profile3/smil.svg" custom-style="width: 258rpx" size="small">è·å–æœ€æ–°åœºåœ°å›¾ç‰‡</van-button>
                    </view>
                  </view>
                  <view class="cbt" wx:if="{{isShowAllData}}">
                    <view class="cbt-title">
                      <view class="name"><van-icon name="like" color="red" custom-class="van-icon-1" />åœºåœ°æ›´æ–°è´¡çŒ®ç”¨æˆ· </view>
                      <view class="num"><text class="cbt-num">{{item.venue_update_users_count}}</text></view>
                    </view>
                    <view class="cbt-user-info">
                      <view class="info">
                        <view wx:if="{{item.venue_update_users_count > 0}}" class="info-t-1">
                          <block wx:for="{{ cbt_users }}" wx:key="index" wx:for-item="item4">
                            <view class="cbt-user-img" style="margin-right:-10px;">
                              <van-image use-loading-slot width="100%" round height="100%"  fit="cover" src="{{item4.user_img}}">
                                <van-loading slot="loading" type="spinner" size="20" vertical />
                              </van-image>
                            </view>
                          </block>
                        </view>
                        <view class="no-info" wx:else>
                          <van-icon color="yellow" name="https://ai.anythingai.online/static/profile3/cry.svg" /><text class="info-1">è¿˜æ²¡ç”¨æˆ·æ›´æ–°è¯¥åœºåœ°</text>
                        </view>
                      </view>
                      <view class="num">
                        <text>+{{item.venue_update_users_count}}</text>
                      </view>
                      <view class="log">
                        <van-button round  size="mini" data-item="{{item}}" custom-style="width:190rpx" bind:tap="showUserUpdateLog" wx:if="{{item.venue_update_users_count > 0}}">
                          <van-icon color="yellow" name="https://ai.anythingai.online/static/profile3/log.svg" /><text class="group_title">åœºåœ°æ›´æ–°è¯¦æƒ…</text>
                        </van-button>
                      </view>
                    </view>
                  </view>
                </view>
              </van-transition>
            </block>
            <view class="group-status">
              <van-button round color="#256d64" size="small" type="{{ item.hasJoined ? 'info' : 'warning' }}" custom-style="width:218rpx" data-item="{{ item }}" bind:tap="joinSportGroup">
                <van-icon size="30rpx" custom-class="van-icon-5 van-icon-8" name="https://ai.anythingai.online/static/profile3/light.svg" />{{item.hasJoined ? 'é€€å‡ºç»„é˜Ÿ' : 'åŠ å…¥ç»„é˜Ÿ'}}({{item.join_user_count}})
              </van-button>
              <van-button round color="#256d64" size="small" data-index="{{index}}" custom-style="width:270rpx" data-item="{{ item }}"  bindtap="toggleShowVenueImg1">
                <van-icon size="30rpx" custom-class="van-icon-5" name="https://ai.anythingai.online/static/profile3/click-3.svg" /><text class="group_title">å‘å¸ƒä»˜è´¹é™ªç»ƒ</text>
              </van-button>
            </view>
            <van-transition show="{{ item.join_user_count > 0  }}" name="fade-right" >
              <view class="join-user-c">
                <view class="join-user-t">
                  <van-icon size="33rpx" custom-class="van-icon-5" name="friends" /><text class="title">ç»„é˜Ÿä¿¡æ¯</text>
                </view>
                <view class="join-user-box">
                  <view class="show-join-user" wx:if="{{ item.join_user_count > 0 }}" data-item="{{item.join_users}}">
                    <block wx:for="{{ item.join_users }}" wx:key="index" wx:for-item="item2" wx:for-index="idx">
                      <view class="o-user" style="margin-right:-10px;">
                        <van-image use-loading-slot width="100%" round height="100%"  fit="cover" src="{{item2.img}}">
                          <van-loading slot="loading" type="spinner" size="20" vertical />
                        </van-image>
                      </view>
                    </block>
                    <view class="join-users">
                      <text>{{item.join_user_count}}äººåŠ å…¥ç»„é˜Ÿ</text>
                    </view>
                    <view class="join-users" wx:if="{{isShowAllData}}">
                      <van-button color="#7c9d34" round type="info" size="mini" data-item="{{item.join_users}}" data-val="{{item}}" custom-style="width:150rpx" bind:tap="showUserImgShape">
                        <text class="group_title">âš¡ç»„é˜Ÿè¯¦æƒ…</text>
                      </van-button>
                    </view>
                    <!-- <view class="join-users">
                      <van-button round size="mini" custom-style="width:110rpx" data-item="{{ item }}"  bindtap="sendMsg">
                        <text class="group_title">ğŸ’¬</text>
                      </van-button>
                    </view> -->
                  </view>
                </view>
              </view>
            </van-transition>
          </view>
        </van-transition>
      </block>
    </van-transition>
    <!-- ç»ƒä¹ æ•°æ® -->
    <van-transition show="{{isSwitchData}}" custom-class="block" name="fade-left">
      <block wx:for="{{ spData }}" wx:key="index" wx:for-item="item">
        <view class="c-box" wx:if="{{!item.is_del}}">
          <view class="user">
            <view class="user1">
              <van-image use-loading-slot 
                data-src="{{item.img}}" 
                custom-class="van-img-1" radius="10" fit="cover"
                src="{{item.img}}" 
                >
                <van-loading slot="loading" type="spinner" size="20" vertical />
              </van-image>
              <text class="nn">{{item.nick_name}}</text>
            </view>
            <view class="date1">
              <text>å‘å¸ƒäº{{item.publish_date}}</text>
            </view>
          </view>
          <view class="title">
            <text>{{item.content}}</text>
          </view>
          <view class="date">
            <van-icon size="25rpx" name="clock" /><text>{{item.date}}</text>
          </view>
          <view class="addr">
            <van-icon size="29rpx" name="location" /><text>{{item.addr}}</text> <text class="deri">ç‚¹å‡»å¯æŸ¥çœ‹è·¯çº¿</text>
          </view>
          <view class="price">
            <van-icon size="25rpx" name="gold-coin" /><text class="p1">{{item.price}}</text>
          </view>
          <view class="tags">
            <view class="fm">
              <van-icon size="20rpx" name="https://ai.anythingai.online/static/profile3/gender-3.svg" /><text>{{item.gender_req}}</text>
            </view>
            <view class="num">
              <van-icon size="25rpx" name="https://ai.anythingai.online/static/profile3/user-num-4.svg" /><text>{{item.players}}</text>
            </view>
          </view>
          <view class="accept">
            <view class="od">
              <van-icon size="21rpx" name="like" /><text>å¿«å»æ²Ÿé€šå§</text>
            </view>
            <view class="control">
              <van-button type="default" round custom-style="width:180rpx;" color="#256d64" size="small" data-item="{{item}}" bind:tap="cov_detail_pop">
                <van-icon size="30rpx" custom-class="van-icon-5 van-icon-8" name="https://ai.anythingai.online/static/profile3/user-con-4.svg" /> <text>{{openid == item.user_id ? 'æ¥å•ç”¨æˆ·' : 'æ²Ÿé€š'}}</text>
              </van-button>
              <van-button type="danger" round custom-style="width:180rpx;" size="small" data-id="{{item.id}}" wx:if="{{item.user_id == openid}}" bind:tap="user_del_sp">
                <van-icon size="25rpx" custom-class="van-icon-10" name="https://ai.anythingai.online/static/profile3/del.svg" /> <text>æ’¤é”€</text>
              </van-button>
            </view>
            
          </view>
        </view>
      </block>
      <block wx:if="{{ spDataNum == 0 }}">
        <van-empty description="è¿˜æ²¡æœ‰äººå‘å¸ƒé™ªç»ƒä¿¡æ¯å“Ÿ"></van-empty>
      </block>
    </van-transition>
    <block wx:if="{{ isEmpty }}">
      <van-empty description="{{ isUse ? useNotice: 'è¯·å…ˆé˜…è¯»æ³¨æ„äº‹é¡¹' }}"></van-empty>
    </block>
  </view>
  <!-- å®¢æœ -->
  <view class="contact-us">
    <van-transition show="{{ showServiceBtn }}" custom-class="block" name="slide-left" duration="0">
      <view class="tran-1">
        <button size="mini"  open-type="contact" class="share-btn">
          <van-icon size="25rpx" name="https://ai.anythingai.online/static/profile3/service.svg" /> <text class="b-c">å®¢æœ</text>
        </button>
      </view>
      <view class="tran-1" wx:if="{{isUse}}">
        <button size="mini" bind:tap="getOpenid" class="share-btn">
          <van-icon size="25rpx" name="https://ai.anythingai.online/static/profile3/flush-5.svg" /> <text class="b-c">åˆ·æ–°</text>
        </button>
      </view>
      <view class="tran-1" wx:if="{{isAdminShow && isShowAllData}}">
        <button size="mini" bind:tap="getUserList" class="share-btn">
          <van-icon size="25rpx" name="https://ai.anythingai.online/static/profile3/user_list.svg" /> <text class="b-c">ç”¨æˆ·</text>
        </button>
      </view>
      <view class="tran-1" wx:if="{{isAdminShow && isShowAllData}}">
        <button size="mini" bind:tap="openCheckListPop" class="share-btn">
          <van-icon size="25rpx" name="https://ai.anythingai.online/static/profile3/check_addr.svg" /> <text class="b-c">å®¡æ ¸</text>
        </button>
      </view>
      <view class="tran-1" wx:if="{{isUse && isShowAllData}}">
        <button size="mini" bind:tap="openAddAddrPop" class="share-btn">
          <van-icon size="25rpx" name="https://ai.anythingai.online/static/profile3/add_addr.svg" /> <text class="b-c">æ·»åŠ </text>
        </button>
      </view>
      <view class="tran-1" wx:if="{{isUse && isShowAllData}}">
        <button size="mini" bind:tap="openAddAddrPop" class="share-btn">
          <van-icon size="25rpx" name="https://ai.anythingai.online/static/profile3/pub.svg" /> <text class="b-c">å‘å¸ƒ</text>
        </button>
      </view>
      <view class="tran-1" wx:if="{{isUse && isShowAllData}}">
        <button size="mini" bind:tap="isShowChatRoom" class="share-btn">
          <van-icon size="25rpx" name="https://ai.anythingai.online/static/profile3/mr.svg" /> <text class="b-c">ä¿¡æ¯</text>
        </button>
        <view class="msg-num">
          <text class="num">{{admin == openid ? venue_count : totalData}}</text>
        </view>
      </view>
    </van-transition>
    <view class="tran-2" data-id="1" bind:tap="onSwitchContactBtn">
      <van-icon size="90rpx" color="#256d64" name="https://ai.anythingai.online/static/profile3/side-12.svg" />
    </view>
    <van-transition show="{{isUse && isShowAllData}}" name="fade-down">
      <view class="tran-3" data-id="1" bind:tap="onSwitchContactBtn" wx:if="{{isUse && isShowAllData}}">
        <text class="msg-num">{{admin == openid ? venue_count : totalData}}</text>
      </view>
    </van-transition>
  </view>
</view>
<!-- ä¸€äº›ç¬¬ä¸‰æ”¾ç»„ä»¶æˆ–è€…è‡ªå®šä¹‰çš„ç»„ä»¶ -->
<view>
  <van-popup
    show="{{ showNickName }}"
    position="bottom"
    custom-style="height: 18%"
    bind:close="onCloseNickName"
    round
  >
    <input bind:change="chooseNickName" type="nickname" class="wx-nickname" placeholder="è¯·è¾“å…¥æ˜µç§°"/>
  </van-popup>
  <van-popup
    wx:if="{{ showPubRm }}"
    show="{{ showPubRm }}"
    round
    custom-class="van-popup-1"
    custom-style="height: 40%;width: 80%; background:#374151"
    bind:close="onClose"
    closeable
  >
    <pub-cov 
      venue_data="{{basketSquareFilterData}}"
      cov_data="{{cov_data}}"
      wssUrl="{{ wssUrl }}" 
      user_id="{{user_id}}" 
      sender_id="{{sender_id}}" 
      baseUrl="{{ baseUrl }}" 
      sport_key="{{defaultSportKey}}" 
      city="{{city}}" 
      nick_name="{{nick_name}}" 
      ava_img="{{avatarUrl}}" 
      class="com-chat-room">
    </pub-cov>
  </van-popup>
  <van-popup
    wx:if="{{ showEvaBoard }}"
    show="{{ showEvaBoard }}"
    round
    custom-style="height: 50%;width: 80%;"
    bind:close="onCloseEvaBoard"
  >
    <eva-board evaluate_list="{{evaluate_list}}" info_data="{{ info_data }}"></eva-board>
  </van-popup>
  <van-popup
    wx:if="{{ showChatRoom }}"
    show="{{ showChatRoom }}"
    round
    custom-class="van-popup-1"
    custom-style="height: 40%;width: 80%; background:#374151"
    bind:close="onCloseChatRoom"
    closeable
  >
    <group-team 
      venue_data="{{basketSquareFilterData}}"
      wssUrl="{{ wssUrl }}" 
      user_id="{{user_id}}" 
      sender_id="{{sender_id}}" 
      baseUrl="{{ baseUrl }}" 
      sport_key="{{defaultSportKey}}" 
      city="{{city}}" 
      nick_name="{{nick_name}}" 
      ava_img="{{avatarUrl}}" 
      class="com-chat-room">
    </group-team>
  </van-popup>
  <!-- è…¾è®¯apiè·å–åœºåœ° -->
  <van-dialog
    use-slot
    title="æ·»åŠ åœºåœ°"
    show="{{ addVillage }}"
    confirm-button-open-type="getUserInfo"
    bind:close="onClose"
    bind:confirm="onConfirmAddPlace"
    custom-class="van-dialog-c-1"
    show-confirm-button="{{false}}"  
    show-cancel-button="{{false}}"
  >
    <van-cell-group>
      <van-field
        value="{{ villageInfo }}"
        required
        clearable
        autosize
        type="textarea"
        label="åœ°å€"
        placeholder="è¯·è¾“å…¥è¯¦ç»†çš„åœºåœ°åœ°å€"
        confirm-type="done"
        bind:change="onChangeAddAddrField"
      />
      <van-field
        value="{{ placeTag }}"
        required
        clearable
        autosize
        type="textarea"
        label="ç®€ç§°"
        placeholder="å¦‚: æ–°æ¹–{{defaultSportSquare}}"
        border="{{ false }}"
        confirm-type="done"
        bind:change="onChangeAddTagField"
      />
      <view class="add-square-img">
        <view class="title">
          <text>æ·»åŠ åœºåœ°å›¾ç‰‡ç›®å‰åªèƒ½ä¼ 1å¼ </text>
        </view>
        <view class="img">
          <van-uploader 
          max-count="1"
          multiple
          preview-image
          deletable
          file-list="{{ fileList }}" 
          bind:after-read="afterRead" 
          bind:delete="deleteImg"
          />
        </view>
      </view>
    </van-cell-group>
    <view class="dialog-btn">
      <view class="cancel">
        <van-button round  data-index="{{index}}" custom-style="width:218rpx" bind:tap="onClose">
          <text class="group_title">å–æ¶ˆ</text>
        </van-button>
      </view>
      <view class="confirm" bind:tap="onConfirmAddPlace">
        <van-button round custom-style="width:218rpx" >
          <text class="group_title">ç¡®è®¤</text>
        </van-button>
      </view>
    </view>
  </van-dialog>
  <van-dialog
      use-slot
      z-index="100"
      title="ğŸƒè¿åŠ¨åœºåœ°é€‰æ‹©"
      show="{{ showSportsList }}"
      show-confirm-button="{{false}}"  
      show-cancel-button="{{false}}"
      bind:close="onClose"
    >
      <view class="sports-list-box">
        <block wx:for="{{all_sport_list}}" wx:key="index" wx:for-item="item">
          <van-checkbox value="{{ item.checked }}" data-item="{{ item }}" bind:change="onSportsChange">{{ item.name }}</van-checkbox>
        </block>
      </view>
      <view class="dialog-btn dialog-btn-a">
        <view class="cancel">
          <van-button round  data-index="{{index}}" custom-style="width:218rpx" bind:tap="onClose">
            <text class="group_title">å…³é—­</text>
          </van-button>
        </view>
        <view class="confirm" >
          <van-button round custom-style="width:218rpx" bind:tap="onConfirmSportSelection">
            <text class="group_title">ç¡®è®¤</text>
          </van-button>
        </view>
    </view>
  </van-dialog>
  <van-dialog
      use-slot
      cancel-button-text="å…³é—­"
      z-index="100"
      title="å®¡æ ¸åˆ—è¡¨"
      show="{{ showCheckList }}"
      show-confirm-button="{{false}}"  
      show-cancel-button="{{true}}"     
      confirm-button-open-type="getUserInfo"
      bind:close="onClose"
      custom-class="van-dialog-1"
    >
      <view class="check-box">
        <block wx:for="{{checkListData}}" wx:key="index" wx:for-item="item">
          <view class="check-container" wx:if="{{ !item.is_show }}">
            <view class="sport_addr"><text class="check-title">åœ°å€: </text><text class="check-content" selectable="true">{{ item.addr }}</text></view>
            <view class="sport_addr"><text class="check-title">ç®€ç§°: </text><text class="check-content" selectable="true">{{ item.tags }}</text></view>
            <view class="sport_key"><text class="check-title">è¿åŠ¨: </text><text class="check-content">{{ item.sport_key }}</text></view>
            <view class="sport_key"><text class="check-title">ç±»å‹: </text><text class="check-content">{{ item.update_type == 1 ? 'æ·»åŠ ' : 'æ›´æ–°' }}</text></view>
            <view class="sport_key"><text class="check-title">åŸå¸‚: </text><text class="check-content">{{ item.city }}</text></view>
            <view class="sport_key"><text class="check-title">æ—¶é—´: </text><text class="check-content">{{ item.time }}</text></view>
            <view class="sport_img">
              <text class="check-title">å›¾ç‰‡: </text><van-image use-loading-slot custom-class="van-img-1" radius="10" fit="cover" src="{{item.img}}" data-src="{{item.img}}" bind:click="onPreviewImage"><van-loading slot="loading" type="spinner" size="20" vertical /></van-image>
            </view>
            <view class="check-btn">
              <van-button bindtap="onAdd" data-value="{{ item }}" icon="https://ai.anythingai.online/static/profile3/smil.svg" custom-style="width: 170rpx" size="small" round type="info">é€šè¿‡</van-button>
              <van-button bindtap="onDelete" data-value="{{ item }}" icon="https://ai.anythingai.online/static/profile3/cry.svg" custom-style="width: 170rpx" size="small" round type="danger">æ‹’ç»</van-button>
            </view>
          </view>
        </block>
      </view>
  </van-dialog>
  <!-- éšç§åè®® -->
  <van-action-sheet 
  show="{{ showPrivacy }}" 
  close-on-click-overlay="false"
  >
    <view class="privacy-title">
      <text>ç”¨æˆ·æ³¨æ„äº‹é¡¹</text>
    </view>
    <view class="privacy-center">
      <view class="privacy-content-f">
        <van-checkbox icon-size="17px" value="{{ privacyCheckedVal }}" shape="square" bind:change="onPrivacyCheckedChange"></van-checkbox>
        <text bind:tap="onPrivacyCheckedChange">æˆ‘å·²é˜…è¯»å¹¶çŸ¥æ™“</text><text class="privacy-jump" bind:tap="showUserPrivacyContent">ã€Šç”¨æˆ·æ³¨æ„äº‹é¡¹ã€‹</text>
      </view>
      <view class="privacy-agree">
        <van-button custom-style="width: 190rpx" size="small" type="primary" data-item="1" bind:tap="iAacceptPrivacy">ç¡®è®¤</van-button>
      </view>
    </view>
  </van-action-sheet>
  <!-- éšç§åè®®å†…å®¹ -->
  <van-popup
    show="{{ showPrivacyContent }}"
    round
    custom-style="width: 80%;"
    bind:close="showUserPrivacyContent"
  >
    <view class="privacy-title">
      <text>ç”¨æˆ·æ³¨æ„äº‹é¡¹</text>
    </view>
    <view class="privacy-center">
      <view class="privacy-content">
        <text class="privacy-detail">æ¬¢è¿ä½¿ç”¨æœ¬å°ç¨‹åºï¼è¯·æ‚¨åœ¨ä½¿ç”¨å‰ä»”ç»†é˜…è¯»å¹¶éµå®ˆä»¥ä¸‹æ¡æ¬¾ï¼š</text>
        <text class="privacy-detail"><text class="privacy-item">1.</text>è¯·éµå®ˆå›½å®¶æ³•å¾‹æ³•è§„ï¼Œä¸å¾—åˆ©ç”¨æœ¬å°ç¨‹åºä»äº‹ä»»ä½•è¿æ³•æˆ–çŠ¯ç½ªè¡Œä¸ºï¼Œåšä¸€ä¸ªå®ˆæ³•çš„å¥½ç”¨æˆ·ã€‚</text> 
        <text class="privacy-detail"><text class="privacy-item">2.</text>ä½¿ç”¨è¿‡ç¨‹ä¸­å¦‚é‡åˆ°é—®é¢˜ï¼Œå¯é€šè¿‡å°ç¨‹åºå†…å®¢æœéšæ—¶è”ç³»æˆ‘ä»¬ï¼Œæˆ‘ä»¬å°†åŠæ—¶ä¸ºæ‚¨æä¾›å¸®åŠ©ã€‚</text> 
        <text class="privacy-detail">æœ€åæ„Ÿè°¢æ‚¨ä½¿ç”¨æœ¬å°ç¨‹åºï¼Œç¥æ‚¨ä½“éªŒæ„‰å¿«!</text>
      </view>
    </view>
    <view class="privacy-read">
      <van-button custom-style="width: 190rpx" size="small" type="default" data-item="1" bind:tap="privacyContentRead">å·²çŸ¥æ™“</van-button>
    </view>
  </van-popup>
  <!-- ç”¨æˆ·åˆ—è¡¨ -->
  <van-dialog
      use-slot
      cancel-button-text="å…³é—­"
      z-index="100"
      title="ç”¨æˆ·åˆ—è¡¨"
      show="{{ showUserList }}"
      show-confirm-button="{{false}}"  
      show-cancel-button="{{true}}"     
      confirm-button-open-type="getUserInfo"
      bind:close="onCloseUserList"
      custom-class="van-dialog-1"
    >
      <view class="user-search">
        <van-search
          value="{{ userVal }}"
          input-align="center"
          placeholder="è¯·è¾“å…¥æœç´¢å…³é”®è¯"
          bindchange="searchUser"
        />
      </view>
      <view class="user-num">
        <text>æ€»{{userCount}}ä¸ªç”¨æˆ·ä½¿ç”¨è¿‡æœ¬å°ç¨‹åº</text>
      </view>
      <view class="check-box">
        <block wx:for="{{filter_user_list}}" wx:key="index" wx:for-item="item">
          <view class="check-container">
            <view class="sport-img-container">
              <view class="sport_img">
                <van-image use-loading-slot custom-class="van-img-1" radius="10" fit="cover" src="{{item.img}}" data-src="{{item.img}}" bind:click="onPreviewImage"><van-loading slot="loading" type="spinner" size="20" vertical /></van-image>
                <view class="you">ç³»ç»Ÿç”Ÿæˆ</view>
              </view>
              <view>
                <view wx:if="{{admin == openid }}" class="sport_addr sport_addr_f_2"><text class="check-title">ç”¨æˆ·: </text><text class="check-content" selectable="true">{{ item.openid }}</text></view>
                <view class="sport_addr"><text class="check-title">æ˜µç§°: </text><text class="check-content" selectable="true">{{ item.nick_name ? item.nick_name : "null" }}</text></view>
                <view class="sport_addr"><text class="check-title">åŸå¸‚: </text><text class="check-content" selectable="true">{{ item.city ? item.city : "æœªè·å–åˆ°ç”¨æˆ·å®šä½" }}</text></view>
                <view class="sport_addr"><text class="check-title">æ—¶é—´: </text><text class="check-content" selectable="true">{{ item.time }}</text></view>
              </view>
            </view>
          </view>
        </block>
      </view>
  </van-dialog>
  <van-dialog
      use-slot
      cancel-button-text="å…³é—­"
      z-index="100"
      show="{{ showGroupList }}"
      show-confirm-button="{{false}}"  
      show-cancel-button="{{true}}"     
      confirm-button-open-type="getUserInfo"
      bind:close="onCloseGroupList"
      custom-class="van-dialog-1"
    >
      <view class="van-dialog-title">
        <view class="title-m">
          <text >{{bks_name}}</text>
        </view>
        <view  class="title-n">
          <text>ç»„é˜Ÿè¯¦æƒ…</text>
        </view>
      </view>
      <view class="user-search">
        <van-search
          value="{{ userVal }}"
          input-align="center"
          placeholder="è¯·è¾“å…¥æœç´¢å…³é”®è¯"
          bindchange="searchJoinUser"
        />
      </view>
      <view class="user-num">
        <text>ç»„é˜Ÿäººæ•°ï¼š{{userCount}}</text>
      </view>
      <view class="check-box">
        <block wx:for="{{filter_user_list_two}}" wx:key="index" wx:for-item="item">
          <view class="check-container">
            <view class="sport-img-container">
              <view class="sport_img">
                <van-image use-loading-slot custom-class="van-img-1" radius="10" fit="cover" src="{{item.img}}" data-src="{{item.img}}" bind:click="onPreviewImage"><van-loading slot="loading" type="spinner" size="20" vertical /></van-image>
                <view class="you">ç³»ç»Ÿç”Ÿæˆ</view>
              </view>
              <view>
                <view class="sport_addr">
                  <text class="check-title">å¤§å: </text><text class="check-content" selectable="true">{{ item.nick_name ? item.nick_name : "null" }}<text class="you">{{ item.user == user_id ? "ä½ ": "" }}</text></text>
                </view>
                <view class="sport_addr">
                   <van-tag custom-class="van-tag-1" color="#ffe534" text-color="#333333"><van-icon name="https://ai.anythingai.online/static/profile3/star.svg" />{{item.skill ? item.skill : "ç¯®æ¿ç‹"}}</van-tag>
                </view>
                <view class="sport_addr"><text class="check-title">æ—¶é—´: </text><text class="check-content" selectable="true">{{ item.time }}</text></view>
              </view>
            </view>
          </view>
        </block>
      </view>
  </van-dialog>
  <van-dialog
      use-slot
      cancel-button-text="å…³é—­"
      z-index="100"
      show="{{ showUserUpdateList}}"
      show-confirm-button="{{false}}"  
      show-cancel-button="{{true}}"     
      confirm-button-open-type="getUserInfo"
      bind:close="onCloseGroupList"
      custom-class="van-dialog-1"
    >
      <view class="van-dialog-title">
        <view class="title-m">
          <text >{{bks_name}}</text>
        </view>
        <view  class="title-n">
          <text>åœºåœ°æ›´æ–°è¯¦æƒ…</text>
        </view>
      </view>
      <view class="user-search">
        <van-search
          value="{{ userVal }}"
          input-align="center"
          placeholder="è¯·è¾“å…¥æœç´¢å…³é”®è¯"
          bindchange="searchUpdateLog"
        />
      </view>
      <view class="user-num">
        <text>{{cbt_user_count}}æ¡åœºåœ°æ›´æ–°æ—¥å¿—</text>
      </view>
      <view class="check-box">
        <block wx:for="{{filter_cbt_users}}" wx:key="index" wx:for-item="item">
          <view class="check-container">
            <view class="sport-img-container">
              <view class="sport_img">
                <van-image use-loading-slot custom-class="van-img-1" radius="10" fit="cover" src="{{item.user_img}}" data-src="{{item.user_img}}" bind:click="onPreviewImage"><van-loading slot="loading" type="spinner" size="20" vertical /></van-image>
                <view class="you">ç³»ç»Ÿç”Ÿæˆ</view>
              </view>
              <view>
                <view class="sport_addr"><text class="check-title">æ˜µç§°: </text><text class="check-content" selectable="true">{{ item.nick_name ? item.nick_name : "null" }}<text class="you">{{ item.user_id == user_id ? "ä½ ": "" }}</text></text></view>
                <view class="sport_addr"><text class="check-title">åŸå¸‚: </text><text class="check-content" selectable="true">{{ item.city ? item.city : "æœªè·å–åˆ°ç”¨æˆ·å®šä½" }}</text></view>
                <view class="sport_addr"><text class="check-title">æ—¶é—´: </text><text class="check-content" selectable="true">{{ item.time }}</text></view>
                <view class="sport_addr">
                  <text class="check-title">å†…å®¹: </text><van-icon name="info" color="#ff6161"/><text class="check-content check-content-3" selectable="true">{{ item.content }}å›¾ç‰‡</text>
                </view>
                <view class="sport_img">
                  <text class="check-title">å›¾ç‰‡: </text><van-image use-loading-slot custom-class="van-img-1" radius="10" fit="cover" src="{{item.img}}" data-src="{{item.img}}" bind:click="onPreviewImage"><van-loading slot="loading" type="spinner" size="20" vertical /></van-image>
                </view>
              </view>
            </view>
          </view>
        </block>
      </view>
  </van-dialog>
  <!-- ç­›é€‰ -->
  <van-popup
  show="{{ showChoose }}"
  position="bottom"
  custom-class="van-pop-2"
  bind:close="onClose"
  closeable
  >
    <view class="pop-box-1">
      <view class="title">
        <text>å…¨éƒ¨ç­›é€‰</text>
      </view>
      <view class="side">
        
      </view>
      <view class="content">
        <view class="name"></view>
        <view class="action">
          <block wx:for="{{chooseList}}" wx:key="index" wx:for-item="item">
            <view class="btn">
              <van-button bind:click="onFiltering" data-id="{{item.id}}" type="default" size="small" color="{{isActive == item.id ? '#ffefe7' : '#f1f5f8'}}" custom-class="van-button-1" custom-style="color:{{isActive == item.id ? '#cf7f5d' : '#454547'}}">
                {{item.name}}
              </van-button>
            </view>
          </block>
        </view>
      </view>
      <view class="confirm">
        <van-button color="#fd6303" size="small" custom-style="width:185rpx;border-radius: 10rpx" bind:click="onFilterVenueData">
          ç¡®è®¤
        </van-button>
      </view>
    </view>
  </van-popup>
  <van-popup
    show="{{ showSpPop }}"
    round
    custom-style="width: 80%;"
    bind:close="onClose"
    closeable
  >
    <view class="privacy-title">
      <text>å‘å¸ƒä»˜è´¹é™ªç»ƒä¿¡æ¯</text>
    </view>
    <van-cell-group>
      <van-field
        value="{{ sp_content }}"
        required
        clearable
        autosize
        type="textarea"
        label="é™ªç»ƒå†…å®¹"
        placeholder="å¦‚:å¸®æ¡çƒ,è£åˆ¤,å¯¹ç»ƒ,æŒ‡å¯¼ç­‰ç­‰"
        border="{{ true }}"
        confirm-type="done"
        bind:change="onChangeSpContentField"
      />
      <van-field
        value="{{ sp_price }}"
        required
        clearable
        autosize
        type="textarea"
        label="é™ªç»ƒä»·æ ¼"
        placeholder="å¦‚: 20å…ƒ/æ—¶"
        border="{{ true }}"
        confirm-type="done"
        bind:change="onChangeSpPriceField"
      />
      <van-field
        value="{{ sp_time }}"
        required
        clearable
        autosize
        type="textarea"
        label="é™ªç»ƒæ—¶é—´"
        placeholder="å¦‚: 2025-09-17 16:30:30"
        border="{{ true }}"
        confirm-type="done"
        bind:change="onChangeSpReqField"
      />
      <van-field
        value="{{ sp_players }}"
        required
        clearable
        autosize
        type="textarea"
        label="é™ªç»ƒäººæ•°"
        placeholder="å¦‚: 1äºº"
        border="{{ true }}"
        confirm-type="done"
        bind:change="onChangeSpPlayersField"
      />
      <view class="pop-box-2">
        <view class="pop-content-1">
          <text class="notic">*</text>
          <text class="req">æ€§åˆ«è¦æ±‚</text>
        </view>
        <view class="pop-content-2">
          <van-checkbox custom-class="van-check-1" icon-size="27rpx" value="{{ mChecked }}" shape="square" data-id="1" bind:change="onChangeGender">
            <van-icon size="29rpx" custom-class="van-icon-5" name="https://ai.anythingai.online/static/profile3/male.svg" />
          </van-checkbox>
          <van-checkbox custom-class="van-check-1" icon-size="27rpx" value="{{ fmChecked }}" shape="square" data-id="2" bind:change="onChangeGender">
            <van-icon size="29rpx" custom-class="van-icon-5" name="https://ai.anythingai.online/static/profile3/female.svg" />
          </van-checkbox>
        </view>
      </view>
      <!-- <view class="add-square-img">
        <view class="title">
          <text>æ·»åŠ åœºåœ°å›¾ç‰‡ç›®å‰åªèƒ½ä¼ 1å¼ </text>
        </view>
        <view class="img">
          <van-uploader 
          max-count="1"
          multiple
          preview-image
          deletable
          file-list="{{ fileList }}" 
          bind:after-read="afterRead" 
          bind:delete="deleteImg"
          />
        </view>
      </view> -->
    </van-cell-group>
    <view class="dialog-btn">
      <view class="cancel">
        <van-button round  data-index="{{index}}" custom-style="width:218rpx" bind:tap="onSet">
          <text class="group_title">é‡ç½®</text>
        </van-button>
      </view>
      <view class="confirm" bind:tap="onConfirmPublishSp">
        <van-button round custom-style="width:218rpx" >
          <text class="group_title">å‘å¸ƒ</text>
        </van-button>
      </view>
    </view>
  </van-popup>
  <van-notify id="van-notify" />
  <van-toast id="van-toast" />
  <van-dialog id="van-dialog" />
</view>